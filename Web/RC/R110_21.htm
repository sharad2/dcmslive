<html>
<head>
    <title></title>
    <style type="text/css">
        .style6
        {
            width: 51px;
        }
        .style8
        {
            height: 52px;
        }
        .style9
        {
            width: 51px;
            height: 52px;
        }
        .style10
        {
            width: 159px;
        }
        .style11
        {
            text-align: center;
        }
        .style12
        {
            width: 159px;
            text-align: center;
        }
        .style13
        {
            height: 52px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center">
        R110<b>.</b>21<b> : </b>Boxes of a customer in different areas</h1>
    <h4>
        Author : Sanjeev kumar</h4>
    Mentor : Hemant K. Varshney<br />
    $Revision: 4278 $<br />
    Status: Reviewed<br />
    Reviewed By : Hemant K.Varshney
    <p>
        This report is for showing area wise palletized and non palletized boxes of a customer.
        This report can also be displayed with different combinations of the following filters:-
        Purchase Order, Bill Of Lading, Wave, Customer DC, Customer Store, Building, ATS Date and&nbsp; DC Cancel Date.
        This report will not consider shipped orders.
    </p>
    <h2>
        Overview</h2>
    <p>
        This report is showing area wise palletized and non palletized boxes of a 
        customer for the passed Purchase Order, Bill Of Lading, Customer DC, Customer 
        Store, Building, ATS Date and DC Cancel Date. Orders that are already shipped will not be considered 
        in this report. As this report is showing area wise palletized and non 
        palletized boxes so this report will serve a great job for consolidating orders 
        while shipping the orders. This report will also be helpful to find out that how 
        many pallets are created for some order and how many pallets are yet to be 
        created so that the order can be shipped. By using this report users can also 
        find out those pallets which are ready for shippping but not yet reached to door 
        area. Such pallets will be displayed with their location id so that the report 
        user can print this informations and inform someone to pull those pallets to the 
        door area form the specified locations. This report can be run for a customer 
        with different combinations of the following filters as well&nbsp; Purchase 
        Order, Bill Of Lading, Customer DC, Customer Store and DC Cancel Date range. In 
        this report there is a checkbox given near to the DC Cancel Date filter.If user 
        wants to apply the Dc Cancel Date filter then user will have to check this 
        checkbox. By default this chekbox will remain unchecked. In order to see 
        customers boxes in specific building , building filter can be applied. By 
        deafult report shows boxes of all buildings. The report will also display 
        customer detail as po wise as a master column, if&nbsp; provide checkbox is 
        checked , other wise it run as area&nbsp; and building as master column.</p>
    <p>
        This report displays the following useful information for the orders being process
        in the warehouse.:-</p>
    <p>
        Area wise count of palletized and non palletized boxes for the passed Customer id
        with any of the following filters Purchase Order, Bill Of Lading,Customer DC, Customer
        Store and DC Cancel Date range. Area wise palletized and non palletized boxes are
        being shown seperately in two grids. In the grid showing pallet wise details of
        the boxes, if the pallet is containing boxes of same criteria then report will also
        show the citeria like Wave ,PO, BOL and DC of the boxes on the pallet. Along with
        this pallet closed date and pallet closed by will also be displayed. In the same
        grid that is showing palletized boxes if any pallet is having mixed criteria boxes
        then the report will indicate this by showing MULTIPLE WAVEs(buckets) or MULTIPLE DCs or MULTIPLE BOLs.
    </p>
    <br />
    <h4>
        Algorithm</h4>
    <p>
        Get information of  non shipped orders of customer from PS table. Filters of date are looked in to PO table.
        Retreving pallet,count of boxes,location box area and
        all area wise count of boxes which are not on any pallet form the table BOX.&nbsp; Wave,
        BOL,Customer, PO and Customer DC are being retrevied from table PS. Retreving 
        Ship date and label from the table master_style and ship.
    </p>
    <h3>
        Output
    </h3>
    <b>Boxes Not On Pallet</b>
    <table width="100%" cellspacing="1" cellpadding="1" border="1">
        <tr>
            <td class="style11">
                <b>Item</b>
            </td>
            <td class="style11">
                <b>Summary</b>
            </td>
            <td class="style11">
                <b>Sort Sequence</b>
            </td>
            <td class="style11">
                <b>Details</b>
            </td>
        </tr>
        <tr>
            <td>
                Name
            </td>
            <td>
                No</td>
            <td>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;</td>
            <td>
                Name of the customer
            </td>
        </tr>
        <tr>
            <td>
                Area
            </td>
            <td>
                No
            </td>
            <td>
                &nbsp;
            </td>
            <td>
                Area of the Boxes. In the same column <em><strong>non physical boxes </strong></em>
                are also mentioned. This is because those boxes which are not in any area comes
                in the category of non physical boxes.
            </td>
        </tr>
        <tr>
            <td>
                Label
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Label of the SKU.
            </td>
        </tr>
        <tr>
            <td>
                Load Id</td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Load id assigned by the customer.</td>
        </tr>
        <tr>
            <td>
                Building</td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Building of the box</td>
        </tr>
        <tr>
            <td>
                Total Boxes
            </td>
            <td>
                Yes
            </td>
            <td>
                &nbsp;
            </td>
            <td>
                Count of boxes for the given Customer along with the other applied filters.
            </td>
        </tr>
    </table>
    <h3>
        Output</h3>
    <b>Boxes On Pallet</b>
    <table width="100%" cellspacing="1" cellpadding="1" border="1">
        <tr>
            <td align="center" class="style8">
                <b>Item</b>
            </td>
            <td align="center" class="style9">
                <b>Summary</b>
            </td>
            <td align="center" class="style8">
                <b>Sort Sequence</b>
            </td>
            <td class="style13">
                <b>Details</b>
            </td>
        </tr>
        <tr>
            <td>
                Name</td>
            <td class="style6">
                No</td>
            <td align="center">
                1</td>
            <td>
                Name of the customer.</td>
        </tr>
        <tr>
            <td>
                Area
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                2</td>
            <td>
                Area where the pallet is currently placed.
            </td>
        </tr>
        <tr>
            <td>
                Building
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                3
            </td>
            <td>
                Building of the boxes.
            </td>
        </tr>
        <tr>
            <td>
                Pallet
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                4</td>
            <td>
                This column shows the pallet id.
            </td>
        </tr>
        <tr>
            <td>
                Location
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                5</td>
            <td>
                &nbsp;Location number where the pallet is currently placed.
            </td>
        </tr>
        <tr>
            <td>
                Total Boxes
            </td>
            <td class="style6">
                Sum
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Total number of boxes on the Pallet.
            </td>
        </tr>
        <tr>
            <td>
                Label
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Label of the SKU.
            </td>
        </tr>
        <tr>
            <td>
                Load Id
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Load id assigned by customer.</td>
        </tr>
        <tr>
            <td>
                Wave
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the wave (bucket) whose boxes are kept on the pallet. In case
                if the pallet is contained with boxes of&nbsp; multiple waves this column will show
                MULTIPLE WAVEs.
            </td>
        </tr>
        <tr>
            <td>
                BOL
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the bols whose boxes are kept on the pallet. In case if the pallet
                is contained with boxes of&nbsp; multiple bols this column will show MULTIPLE BOLs
            </td>
        </tr>
        <tr>
            <td>
                PO
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the PO whose boxes are kept on the pallet.</td>
        </tr>
        <tr>
            <td>
                DC
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the DC to which the boxes kept on the pallet belongs. In case
                if the pallet is contained with boxes of&nbsp; multiple DCs this column will show
                MULTIPLE DCs
            </td>
        </tr>
        <tr>
            <td>
                Ship Date
            </td>
            <td class="style6">
                Date
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                &nbsp;
                Displaying the shipping date of the pickslip</td>
        </tr>
        <tr>
            <td>
                DC Cancel Date
            </td>
            <td class="style6">
                Date
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                &nbsp;
                Latest date by which the pickslip must leave Distribution Centre in order to reach
                the customer on time.
            </td>
        </tr>
    </table>
    <h3>
        Output</h3>
    <b>Boxes On Temporary Pallet</b>
    <table width="100%" cellspacing="1" cellpadding="1" border="1">
        <tr>
            <td align="center" class="style8">
                <b>Item</b>
            </td>
            <td align="center" class="style9">
                <b>Summary</b>
            </td>
            <td align="center" class="style8">
                <b>Sort Sequence</b>
            </td>
            <td class="style13">
                <b>Details</b>
            </td>
        </tr>
        <tr>
            <td>
                Name
            </td>
            <td class="style6">
                No</td>
            <td align="center">
                1</td>
            <td>
                Name of the customer</td>
        </tr>
        <tr>
            <td>
                Area
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                2</td>
            <td>
                Area where the pallet is currently placed.
            </td>
        </tr>
        <tr>
            <td>
                Building
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                3</td>
            <td>
                Building of the boxes.
            </td>
        </tr>
        <tr>
            <td>
                Pallet
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                4</td>
            <td>
                This column shows the pallet id.
            </td>
        </tr>
        <tr>
            <td>
                Location
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                5
            </td>
            <td>
                &nbsp;Location number where the pallet is currently placed.
            </td>
        </tr>
        <tr>
            <td>
                Total Boxes
            </td>
            <td class="style6">
                Sum
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Total number of boxes on the Pallet.
            </td>
        </tr>
        <tr>
            <td>
                Label
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Label of the SKU.
            </td>
        </tr>
        <tr>
            <td>
                Load Id
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Load id assigned by customer</td>
        </tr>
        <tr>
            <td>
                Wave
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the wave (bucket) whose boxes are kept on the pallet. In case
                if the pallet is contained with boxes of&nbsp; multiple waves this column will show
                MULTIPLE WAVEs.
            </td>
        </tr>
        <tr>
            <td>
                BOL
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the bols whose boxes are kept on the pallet. In case if the pallet
                is contained with boxes of&nbsp; multiple bols this column will show MULTIPLE BOLs
            </td>
        </tr>
        <tr>
            <td>
                PO
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the PO whose boxes are kept on the pallet.
            </td>
        </tr>
        <tr>
            <td>
                DC
            </td>
            <td class="style6">
                No
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                This column shows the DC to which the boxes kept on the pallet belongs. In case
                if the pallet is contained with boxes of&nbsp; multiple DCs this column will show
                MULTIPLE DCs
            </td>
        </tr>
        <tr>
            <td>
                Ship Date
            </td>
            <td class="style6">
                Date
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                &nbsp;
                Displaying the shipping date of the box</td>
        </tr>
        <tr>
            <td>
                DC Cancel Date
            </td>
            <td class="style6">
                Date
            </td>
            <td align="center">
                &nbsp;
            </td>
            <td>
                Latest date by which the pickslip must leave Distribution Centre in order to reach
                the customer on time.
            </td>
        </tr>
    </table>
    <p>
        <b><i>Non Physical Boxes:--</i></b> Non physical boxes are those boxes which are
        logically created by the system and physically not present in the warehouse. Non
        physical boxes are convereted to physical boxes by the users in the warehouse. We
        can explain it by following example:-</p>
    <p>
        Logical boxes are created by the program SelectPO while making a bucket avaliable.
        Later on during creating MPC those logical boxes are converted to physical boxes.&nbsp;</p>
    <h2>
        Parameters</h2>
    <table width="100%" cellspacing="1" cellpadding="1" border="1">
        <tr>
            <td class="style12">
                <b>Name</b>
            </td>
            <td class="style11">
                <b>Default</b>
            </td>
            <td class="style11">
                <b>Details</b>
            </td>
        </tr>
        <tr>
            <td class="style10">
                Customer
            </td>
            <td>
                None
            </td>
            <td>
                Id of the customer.&nbsp;
            </td>
        </tr>
        <tr>
            <td class="style10">
                Purchase Orders
            </td>
            <td>
                None
            </td>
            <td>
                Id of the PO .
            </td>
        </tr>
        <tr>
            <td class="style10">
                Bill Of Lading
            </td>
            <td>
                None
            </td>
            <td>
                Id of the BOL.
            </td>
        </tr>
        <tr>
            <td class="style10">
                Wave
            </td>
            <td>
                None
            </td>
            <td>
                Bucket of the Pickslip
            </td>
        </tr>
        <tr>
            <td class="style10">
                Customer DC
            </td>
            <td>
                None
            </td>
            <td>
                The DC of customer
            </td>
        </tr>
        <tr>
            <td class="style10">
                Customer Store
            </td>
            <td>
                None
            </td>
            <td>
                &nbsp;The store id of the customer
            </td>
        </tr>
        <tr>
            <td class="style10">
                Building
            </td>
            <td>
                All</td>
            <td>
                Select this to see boxes of customer in particular building.</td>
        </tr>
        <tr>
            <td class="style10">
                ATS Date
            </td>
            <td>
                None</td>
            <td>
                This parameter is for selecting the ATS(Available to Ship) date. This parameter is only for EDI customer orders.</td>
        </tr>
        <tr>
            <td class="style10">
                DC&nbsp;Cancel Date&nbsp;
            </td>
            <td>
                Date range from date = current date, To date = current date + 7 days.
            </td>
            <td>
                This parameter is for selecting the Dc Cancel Date range for which user wants to
                see the report. There is a checkbox which is near to this date parameter. For applying
                this date filter this checkbox must be checked.
            </td>
        </tr>
        <tr>
            <td class="style10">
                Checkbox</td>
            <td>
                Uncheck</td>
            <td>
                For displaying the 
                customer detail as PO wise</td>
        </tr>
    </table>
    <h2>
        Behavior Change</h2>
    <ul>
        <li>Now report is able to accept multiple comma seperated customer. 4-8-2012</li>
        <li>Showing user who put last box on the Pallet. 17-8-2012</li>
        <li>Showing the customer name to the grid. 18-8-2012</li>
            </ul>
    <h2>
        Issues</h2>
    No Known Issue. &nbsp;<br />
    <h2>
        Prerequisites</h2>
    <p>
        Private synonyms for the following table is requried</p>
    <br />
    BOX,<br />
    IA,<br />
    ship,<br />
    edi_573_574_ps,<br />
    boxdet,<br />
    master_sku,<br />
    master_style,<br />
    PS,<br />
    cust,<br />
    PO
    <p>
        Use the below script to create the synonyms</p>
    <p>
        Create or replace synonym box for dcms8.box;</p>
    <p>
        Create or replace synonym boxdet for dcms8.boxdet;</p>
    <p>
        Create or replace synonym master_sku&nbsp; for dcms4.master_sku;</p>
    <p>
        Create or replace synonym master_style for dcms4.master_style;</p>
    <p>
        Create or replace synonym IA for dcms8.IA;</p>
    <p>
        Create or replace synonym edi_573_574_ps for dcms8.edi_573_574_ps;</p>
    <p>
        Create or replace synonym ship for dcms8.ship;</p>
    <p>
        Create or replace synonym PS for dcms8.PS;</p>
        <p>
        Create or replace synonym cust for dcms8.cust;</p>
    <p>
        Create or replace synonym PO for dcms8.PO;</p>
     <b>Following appSettings are required:</b>
    <p>
        No used AppSetting in this report</p>
    <br />
    <h2>
        Parameter Validation</h2>
    No special validations.
    
    <h3>
        Query&#39;s documentation:</h3>
    <b>Boxes Not On Pallet</b>
    <pre>
  SELECT nvl(B.IA_ID,'Non Physical Boxes')   AS box_area_id,
        MAX(edips.LOAD_ID)             AS LOAD_ID,
        IA.PROCESS_FLOW_SEQUENCE    AS PROCESS_FLOW_SEQUENCE,
        PS.CUSTOMER_ID AS CUSTOMER_ID, 
        MAX(C.NAME) AS CUSTOMER_NAME,
        ps.WAREHOUSE_LOCATION_ID    AS WAREHOUSE_LOCATION_ID,
        MIN(ms.LABEL_ID)            AS MIN_LABEL_ID,
        MAX(ms.LABEL_ID)            AS MAX_LABEL_ID,
        COUNT(DISTINCT ms.LABEL_ID) AS COUNT_LABEL_ID,
        COUNT(DISTINCT b.ucc128_id) AS TOTAL_BOXES
    FROM BOX B
    INNER JOIN BOXDET BD ON 
    B.UCC128_ID = BD.UCC128_ID
    AND B.PICKSLIP_ID = BD.PICKSLIP_ID
    LEFT OUTER JOIN MASTER_SKU MSKU ON
    BD.UPC_CODE = MSKU.UPC_CODE
    LEFT OUTER JOIN MASTER_STYLE MS ON
    MSKU.STYLE = MS.STYLE
    LEFT OUTER JOIN IA IA
      ON B.IA_ID = IA.IA_ID
    LEFT OUTER JOIN PS
      ON B.PICKSLIP_ID = PS.PICKSLIP_ID
    LEFT OUTER JOIN CUST C ON 
    PS.CUSTOMER_ID = C.CUSTOMER_ID
    LEFT OUTER JOIN edi_753_754_ps edips
      ON PS.PICKSLIP_ID = edips.PICKSLIP_ID
    LEFT OUTER JOIN PO
      ON PS.CUSTOMER_ID = PO.CUSTOMER_ID
     AND PS.PO_ID = PO.PO_ID
     AND PS.ITERATION = PO.ITERATION
   WHERE PS.TRANSFER_DATE IS NULL
     AND B.PALLET_ID IS NULL
     AND B.STOP_PROCESS_DATE IS NULL
     AND BD.STOP_PROCESS_DATE IS NULL
     <if>and <a pre="PS.PO_ID IN (" sep="," post=")">(:PO_ID)</a></if>
     <if>AND ps.SHIPPING_ID = :SHIPPING_ID</if>
     <if>AND <a pre="PS.customer_id in(" sep="," post=")">:customer_id</a></if>
     <if>AND PS.WAREHOUSE_LOCATION_ID =:WAREHOUSE_LOCATION_ID</if>
     <if>AND PS.customer_store_id =:customer_store_id</if>
       <if>and <a pre="PS.BUCKET_ID IN (" sep="," post=")">(:BUCKET_ID)</a></if>
      <if>and <a pre="ps.customer_dc_id IN (" sep="," post=")">(:customer_dc_id) </a></if>
     <if>AND edips.ats_date &gt;=CAST(:ats_date AS DATE)</if>
     <if>AND edips.ats_date &lt;=CAST(:ats_date AS DATE) + 1</if>
     <if>AND PO.DC_CANCEL_DATE &gt;= CAST(:FROM_DC_CANCEL_DATE as DATE)</if>
     <if>AND PO.DC_CANCEL_DATE &lt; CAST(:TO_DC_CANCEL_DATE as DATE) +1</if>
GROUP BY IA.PROCESS_FLOW_SEQUENCE,
nvl(B.IA_ID,'Non Physical Boxes'),
ps.warehouse_location_id, PS.CUSTOMER_ID
    </pre>

    <h2>
        Query&#39;s documentation:</h2>
    The query will get the Pallet details&nbsp; from tables<br />
    <b>Boxes On&nbsp; Pallet which is started From 'P' and which is not group by on PO</b>
    <pre> 
  SELECT B.PALLET_ID PALLET_ID,
       MAX(B.LOCATION_ID) AS LOCATION_ID,
       B.IA_ID AS IA_ID,
       PS.CUSTOMER_ID AS CUSTOMER_ID,
       MAX(C.NAME) AS CUSTOMER_NAME,
       PS.WAREHOUSE_LOCATION_ID AS WAREHOUSE_LOCATION_ID,
       MAX(S.SHIP_DATE) AS SHIP_DATE,
       MAX(PO.DC_CANCEL_DATE) AS DC_CANCEL_DATE,
       MAX(edips.LOAD_ID) AS LOAD_ID,
       MIN(MS.LABEL_ID) AS MIN_LABEL_ID,
       MAX(MS.LABEL_ID) AS MAX_LABEL_ID,
       COUNT(DISTINCT MS.LABEL_ID) AS COUNT_LABEL_ID,
       MAX(PS.SHIPPING_ID) AS MAX_SHIPPING_ID,
       COUNT(DISTINCT PS.SHIPPING_ID) AS COUNT_SHIPPING_ID,
       MAX(PS.BUCKET_ID) AS MAX_BUCKET,
       COUNT(DISTINCT PS.BUCKET_ID) AS COUNT_OF_BUCKETS,
       MAX(PS.PO_ID) AS MAX_PO,
       COUNT(DISTINCT PS.PO_ID) AS COUNT_OF_POS,
       MAX(PS.CUSTOMER_DC_ID) AS MAX_DC,
       COUNT(DISTINCT PS.CUSTOMER_DC_ID) AS COUNT_OF_DCS,
       MAX(B.MODIFIED_BY) KEEP (DENSE_RANK LAST ORDER BY b.date_modified) AS USER_NAME,
       COUNT(DISTINCT B.UCC128_ID) AS Total_Boxes
  FROM BOX B
 INNER JOIN BOXDET BD
    ON B.UCC128_ID = BD.UCC128_ID
   AND B.PICKSLIP_ID = BD.PICKSLIP_ID
  LEFT OUTER JOIN MASTER_SKU MSKU
    ON BD.UPC_CODE = MSKU.UPC_CODE
  LEFT OUTER JOIN MASTER_STYLE MS
    ON MSKU.STYLE = MS.STYLE
  LEFT OUTER JOIN PS
    ON B.PICKSLIP_ID = PS.PICKSLIP_ID
  LEFT OUTER JOIN CUST C ON 
    PS.CUSTOMER_ID = C.CUSTOMER_ID
  LEFT OUTER JOIN SHIP S
    ON PS.SHIPPING_ID = S.SHIPPING_ID
  LEFT OUTER JOIN edi_753_754_ps edips
    ON PS.PICKSLIP_ID = edips.PICKSLIP_ID
  LEFT OUTER JOIN PO
    ON PS.CUSTOMER_ID = PO.CUSTOMER_ID
   AND PS.PO_ID = PO.PO_ID
   AND PS.ITERATION = PO.ITERATION
 WHERE PS.TRANSFER_DATE IS NULL
   AND PALLET_ID LIKE 'P%'
   AND B.STOP_PROCESS_DATE IS NULL
   AND BD.STOP_PROCESS_DATE IS NULL
   <if>and <a pre="PS.PO_ID IN (" sep="," post=")">(:PO_ID)</a></if>
   <if>AND PS.SHIPPING_ID = :SHIPPING_ID</if>
    <if>AND <a pre="PS.customer_id in(" sep="," post=")">:customer_id</a></if>
   <if>AND PS.WAREHOUSE_LOCATION_ID =:WAREHOUSE_LOCATION_ID</if>
   <if>AND PS.CUSTOMER_STORE_ID = :customer_store_id</if>
   <if>and <a pre="PS.BUCKET_ID IN (" sep="," post=")">(:BUCKET_ID)</a></if>
   <if>and <a pre="ps.customer_dc_id IN (" sep="," post=")">(:customer_dc_id) </a></if>
   <if>AND edips.ats_date &gt;=CAST(:ats_date AS DATE)</if>
   <if>AND edips.ats_date &lt;=CAST(:ats_date AS DATE) + 1</if>
   <if>AND PO.DC_CANCEL_DATE &gt;= CAST(:FROM_DC_CANCEL_DATE AS DATE) </if>
   <if>AND PO.DC_CANCEL_DATE &lt; CAST(:TO_DC_CANCEL_DATE AS DATE) + 1</if>
GROUP BY B.PALLET_ID,B.IA_ID,ps.warehouse_location_id, PS.CUSTOMER_ID
  </if>
</if>
                    </pre>
<h3>Box On Pallet which is started From 'P' and which is group by on PO</h3>
<pre>
SELECT B.PALLET_ID PALLET_ID,
       MAX(B.LOCATION_ID) AS LOCATION_ID,
       B.IA_ID AS IA_ID,
       PS.CUSTOMER_ID AS CUSTOMER_ID,
       MAX(C.NAME) AS CUSTOMER_NAME,
       PS.WAREHOUSE_LOCATION_ID AS WAREHOUSE_LOCATION_ID,
       MAX(S.SHIP_DATE) AS SHIP_DATE,
       MAX(PO.DC_CANCEL_DATE) AS DC_CANCEL_DATE,
       MAX(edips.LOAD_ID) AS LOAD_ID,
       MIN(MS.LABEL_ID) AS MIN_LABEL_ID,
       MAX(MS.LABEL_ID) AS MAX_LABEL_ID,
       COUNT(DISTINCT MS.LABEL_ID) AS COUNT_LABEL_ID,
       MAX(PS.SHIPPING_ID) AS MAX_SHIPPING_ID,
       COUNT(DISTINCT PS.SHIPPING_ID) AS COUNT_SHIPPING_ID,
       MAX(PS.BUCKET_ID) AS MAX_BUCKET,
       COUNT(DISTINCT PS.BUCKET_ID) AS COUNT_OF_BUCKETS,
       PS.PO_ID AS MAX_PO,
       MAX(PS.CUSTOMER_DC_ID) AS MAX_DC,
       COUNT(DISTINCT PS.CUSTOMER_DC_ID) AS COUNT_OF_DCS,
       MAX(B.MODIFIED_BY) KEEP (DENSE_RANK LAST ORDER BY b.date_modified) AS USER_NAME,
       COUNT(DISTINCT B.UCC128_ID) AS Total_Boxes
  FROM BOX B
 INNER JOIN BOXDET BD
    ON B.UCC128_ID = BD.UCC128_ID
   AND B.PICKSLIP_ID = BD.PICKSLIP_ID
  LEFT OUTER JOIN MASTER_SKU MSKU
    ON BD.UPC_CODE = MSKU.UPC_CODE
  LEFT OUTER JOIN MASTER_STYLE MS
    ON MSKU.STYLE = MS.STYLE
  LEFT OUTER JOIN PS
    ON B.PICKSLIP_ID = PS.PICKSLIP_ID
    LEFT OUTER JOIN CUST C ON 
    PS.CUSTOMER_ID = C.CUSTOMER_ID
  LEFT OUTER JOIN SHIP S
    ON PS.SHIPPING_ID = S.SHIPPING_ID
  LEFT OUTER JOIN edi_753_754_ps edips
    ON PS.PICKSLIP_ID = edips.PICKSLIP_ID
  LEFT OUTER JOIN PO
    ON PS.CUSTOMER_ID = PO.CUSTOMER_ID
   AND PS.PO_ID = PO.PO_ID
   AND PS.ITERATION = PO.ITERATION
 WHERE PS.TRANSFER_DATE IS NULL
   AND PALLET_ID LIKE 'P%'
   AND B.STOP_PROCESS_DATE IS NULL
   AND BD.STOP_PROCESS_DATE IS NULL
   <if>and <a pre="PS.PO_ID IN (" sep="," post=")">(:PO_ID)</a></if>
   <if>AND PS.SHIPPING_ID = :SHIPPING_ID</if>
   <if>AND <a pre="PS.customer_id in(" sep="," post=")">:customer_id</a></if>
   <if>AND PS.WAREHOUSE_LOCATION_ID =:WAREHOUSE_LOCATION_ID</if>
   <if>AND PS.CUSTOMER_STORE_ID = :customer_store_id</if>
   <if>and <a pre="PS.BUCKET_ID IN (" sep="," post=")">(:BUCKET_ID)</a></if>
   <if>and <a pre="ps.customer_dc_id IN (" sep="," post=")">(:customer_dc_id) </a></if>
       <if>AND edips.ats_date &gt;=CAST(:ats_date AS DATE)</if>
     <if>AND edips.ats_date &lt;=CAST(:ats_date AS DATE) + 1</if>
   <if>AND PO.DC_CANCEL_DATE &gt;= CAST(:FROM_DC_CANCEL_DATE AS DATE) </if>
   <if>AND PO.DC_CANCEL_DATE &lt; CAST(:TO_DC_CANCEL_DATE AS DATE) + 1</if>
GROUP BY B.PALLET_ID,B.IA_ID,ps.warehouse_location_id, PS.PO_ID, PS.CUSTOMER_ID
</pre>
<h2>
Box on Temporary Pallet which are not group by on PO
</h2>
<pre>
 SELECT B.PALLET_ID PALLET_ID,
       MAX(B.LOCATION_ID) AS LOCATION_ID,
       B.IA_ID AS IA_ID,
       PS.CUSTOMER_ID AS CUSTOMER_ID,
       MAX(C.NAME) AS CUSTOMER_NAME,
       PS.WAREHOUSE_LOCATION_ID AS WAREHOUSE_LOCATION_ID,
       MAX(S.SHIP_DATE) AS SHIP_DATE,
       MAX(PO.DC_CANCEL_DATE) AS DC_CANCEL_DATE,
       MAX(edips.LOAD_ID) AS LOAD_ID,
       MIN(MS.LABEL_ID) AS MIN_LABEL_ID,
       MAX(MS.LABEL_ID) AS MAX_LABEL_ID,
       COUNT(DISTINCT MS.LABEL_ID) AS COUNT_LABEL_ID,
       MAX(PS.SHIPPING_ID) AS MAX_SHIPPING_ID,
       COUNT(DISTINCT PS.SHIPPING_ID) AS COUNT_SHIPPING_ID,
       MAX(PS.BUCKET_ID) AS MAX_BUCKET,
       COUNT(DISTINCT PS.BUCKET_ID) AS COUNT_OF_BUCKETS,
       MAX(PS.PO_ID) AS MAX_PO,
       COUNT(DISTINCT PS.PO_ID) AS COUNT_OF_POS,
       MAX(PS.CUSTOMER_DC_ID) AS MAX_DC,
       COUNT(DISTINCT PS.CUSTOMER_DC_ID) AS COUNT_OF_DCS,
       MAX(B.MODIFIED_BY) KEEP (DENSE_RANK LAST ORDER BY b.date_modified) AS USER_NAME,
       COUNT(DISTINCT B.UCC128_ID) AS Total_Boxes
  FROM BOX B
 INNER JOIN BOXDET BD
    ON B.UCC128_ID = BD.UCC128_ID
   AND B.PICKSLIP_ID = BD.PICKSLIP_ID
  LEFT OUTER JOIN MASTER_SKU MSKU
    ON BD.UPC_CODE = MSKU.UPC_CODE
  LEFT OUTER JOIN MASTER_STYLE MS
    ON MSKU.STYLE = MS.STYLE
  LEFT OUTER JOIN PS
    ON B.PICKSLIP_ID = PS.PICKSLIP_ID
    LEFT OUTER JOIN CUST C ON 
    PS.CUSTOMER_ID = C.CUSTOMER_ID
  LEFT OUTER JOIN SHIP S
    ON PS.SHIPPING_ID = S.SHIPPING_ID
  LEFT OUTER JOIN edi_753_754_ps edips
    ON PS.PICKSLIP_ID = edips.PICKSLIP_ID
  LEFT OUTER JOIN PO
    ON PS.CUSTOMER_ID = PO.CUSTOMER_ID
   AND PS.PO_ID = PO.PO_ID
   AND PS.ITERATION = PO.ITERATION
 WHERE PS.TRANSFER_DATE IS NULL
   AND PALLET_ID NOT LIKE 'P%'
   AND B.STOP_PROCESS_DATE IS NULL
   AND BD.STOP_PROCESS_DATE IS NULL
   <if>and <a pre="PS.PO_ID IN (" sep="," post=")">:PO_ID</a></if>
   <if>AND PS.SHIPPING_ID = :SHIPPING_ID</if>
   <if>AND <a pre="PS.customer_id in(" sep="," post=")">:customer_id</a></if>
   <if>AND PS.WAREHOUSE_LOCATION_ID =:WAREHOUSE_LOCATION_ID</if>
   <if>AND PS.CUSTOMER_STORE_ID = :customer_store_id</if>
   <if>and <a pre="PS.BUCKET_ID IN (" sep="," post=")">(:BUCKET_ID)</a></if>
   <if>and <a pre="ps.customer_dc_id IN (" sep="," post=")">(:customer_dc_id) </a></if>
       <if>AND edips.ats_date &gt;=CAST(:ats_date AS DATE)</if>
     <if>AND edips.ats_date &lt;=CAST(:ats_date AS DATE) + 1</if>
   <if>AND PO.DC_CANCEL_DATE &gt;= CAST(:FROM_DC_CANCEL_DATE AS DATE) </if>
<if>AND PO.DC_CANCEL_DATE &lt; CAST(:TO_DC_CANCEL_DATE AS DATE) + 1</if>
 GROUP BY B.PALLET_ID,B.IA_ID,ps.warehouse_location_id, PS.CUSTOMER_ID  
  </if>
</pre>
                    <h2>
        Query&#39;s documentation:</h2>
    The query will get the Pallet details&nbsp; from tables<br />
    <b>Boxes On Temporary Pallet which is group by on PO</b>
    <pre> 
   <if c="$customer_id">
SELECT B.PALLET_ID PALLET_ID,
       MAX(B.LOCATION_ID) AS LOCATION_ID,
       B.IA_ID AS IA_ID,
       PS.CUSTOMER_ID AS CUSTOMER_ID,
       MAX(C.NAME) AS CUSTOMER_NAME,
       PS.WAREHOUSE_LOCATION_ID AS WAREHOUSE_LOCATION_ID,
       MAX(S.SHIP_DATE) AS SHIP_DATE,
       MAX(PO.DC_CANCEL_DATE) AS DC_CANCEL_DATE,
       MAX(edips.LOAD_ID) AS LOAD_ID,
       MIN(MS.LABEL_ID) AS MIN_LABEL_ID,
       MAX(MS.LABEL_ID) AS MAX_LABEL_ID,
       COUNT(DISTINCT MS.LABEL_ID) AS COUNT_LABEL_ID,
       MAX(PS.SHIPPING_ID) AS MAX_SHIPPING_ID,
       COUNT(DISTINCT PS.SHIPPING_ID) AS COUNT_SHIPPING_ID,
       MAX(PS.BUCKET_ID) AS MAX_BUCKET,
       COUNT(DISTINCT PS.BUCKET_ID) AS COUNT_OF_BUCKETS,
       PS.PO_ID AS MAX_PO,
       MAX(PS.CUSTOMER_DC_ID) AS MAX_DC,
       COUNT(DISTINCT PS.CUSTOMER_DC_ID) AS COUNT_OF_DCS,
       MAX(B.MODIFIED_BY) KEEP (DENSE_RANK LAST ORDER BY b.date_modified) AS USER_NAME,
       COUNT(DISTINCT B.UCC128_ID) AS Total_Boxes
  FROM BOX B
 INNER JOIN BOXDET BD
    ON B.UCC128_ID = BD.UCC128_ID
   AND B.PICKSLIP_ID = BD.PICKSLIP_ID
  LEFT OUTER JOIN MASTER_SKU MSKU
    ON BD.UPC_CODE = MSKU.UPC_CODE
  LEFT OUTER JOIN MASTER_STYLE MS
    ON MSKU.STYLE = MS.STYLE
  LEFT OUTER JOIN PS
    ON B.PICKSLIP_ID = PS.PICKSLIP_ID
  LEFT OUTER JOIN CUST C ON 
    PS.CUSTOMER_ID = C.CUSTOMER_ID
  LEFT OUTER JOIN SHIP S
    ON PS.SHIPPING_ID = S.SHIPPING_ID
  LEFT OUTER JOIN edi_753_754_ps edips
    ON PS.PICKSLIP_ID = edips.PICKSLIP_ID
  LEFT OUTER JOIN PO
    ON PS.CUSTOMER_ID = PO.CUSTOMER_ID
   AND PS.PO_ID = PO.PO_ID
   AND PS.ITERATION = PO.ITERATION
 WHERE PS.TRANSFER_DATE IS NULL
   AND PALLET_ID NOT LIKE 'P%'
   AND B.STOP_PROCESS_DATE IS NULL
   AND BD.STOP_PROCESS_DATE IS NULL
   <if>and <a pre="PS.PO_ID IN (" sep="," post=")">:PO_ID</a></if>
   <if>AND PS.SHIPPING_ID = :SHIPPING_ID</if>
    <if>AND <a pre="PS.customer_id in(" sep="," post=")">:customer_id</a></if>
    <if>AND PS.WAREHOUSE_LOCATION_ID =:WAREHOUSE_LOCATION_ID</if>
   <if>AND PS.CUSTOMER_STORE_ID = :customer_store_id</if>
   <if>and <a pre="PS.BUCKET_ID IN (" sep="," post=")">(:BUCKET_ID)</a></if>
   <if>and <a pre="ps.customer_dc_id IN (" sep="," post=")">(:customer_dc_id) </a></if>
       <if>AND edips.ats_date &gt;=CAST(:ats_date AS DATE)</if>
     <if>AND edips.ats_date &lt;=CAST(:ats_date AS DATE) + 1</if>
   <if>AND PO.DC_CANCEL_DATE &gt;= CAST(:FROM_DC_CANCEL_DATE AS DATE) </if>
<if>AND PO.DC_CANCEL_DATE &lt; CAST(:TO_DC_CANCEL_DATE AS DATE) + 1</if>
 GROUP BY B.PALLET_ID,B.IA_ID,ps.warehouse_location_id,PS.PO_ID, PS.CUSTOMER_ID 
  </if>    
                    </pre>
    <h2>
        Validation details</h2>
    Bellow queries may have the where clause in the [] brackets. It means these are
    the optional parameters. If you do not want to pass these parameters just remove
    the [] section.
    <br />
    <b>Query:</b><br />
    <b>Description: Validate total boxes of pallet </b>
    <pre>
       SELECT COUNT(DISTINCT b.ucc128_id) 
       FROM box b 
       WHERE b.pallet_id =&#39;pallet_id&#39;
       AND B.STOP_PROCESS_DATE IS NULL
       AND B.STOP_PROCESS_REASON IS NULL
          </pre>
    <b>Description: Validate the boxes of a pallet that belongs to the passed POs</b>
    <pre>
          SELECT COUNT(DISTINCT B.UCC128_ID) 
          FROM BOX B, PS PS
          WHERE B.PICKSLIP_ID = PS.PICKSLIP_ID 
          AND B.PALLET_ID = &#39;PALLET&#39; 
          AND ps.po_id = &#39;po_id&#39; 
          AND B.STOP_PROCESS_DATE IS NULL
          AND B.STOP_PROCESS_REASON IS NULL
          AND NVL(ps.picking_status,0) != 'SHIPPED'
          and PS.TRANSFER_DATE IS NULL
          </pre>
    <b>Description: Validate the boxes of a pallet that belongs to the passed Shipping_id</b>
    <pre>
          SELECT COUNT(DISTINCT B.UCC128_ID) 
          FROM BOX B, PS PS 
          WHERE B.PICKSLIP_ID = PS.PICKSLIP_ID 
          AND B.PALLET_ID = &#39;PALLET_ID&#39; 
          AND ps.shipping_id = &#39;shipping_id&#39;
          AND B.STOP_PROCESS_DATE IS NULL
          AND B.STOP_PROCESS_REASON IS NULL
          AND NVL(ps.picking_status,0) != 'SHIPPED'
          and PS.TRANSFER_DATE IS NULL
          </pre>
    <b>Description: Validate the boxes of a pallet that belongs to the passed DCs</b>
    <pre>
          SELECT COUNT(DISTINCT B.UCC128_ID) 
          FROM BOX B, PS PS 
          WHERE B.PICKSLIP_ID = PS.PICKSLIP_ID 
          AND B.PALLET_ID = &#39;PALLET_ID &#39; 
          AND ps.customer_dc_id = &#39;customer_dc_id&#39;
          AND B.STOP_PROCESS_DATE IS NULL
          AND B.STOP_PROCESS_REASON IS NULL
          AND NVL(ps.picking_status,0) != 'SHIPPED'
          and PS.TRANSFER_DATE IS NULL
          </pre>
    <b>Description:Validate the POs belongs to the pallet</b>
    <pre>
          SELECT distinct(ps.po_id) 
          FROM ps ps , box b 
          WHERE ps.pickslip_id = box.pickslip_id 
          AND ps.shipping_id = &#39;shipping_id&#39; 
          AND b.pallet_id = &#39;pallet_id&#39;
          AND B.STOP_PROCESS_DATE IS NULL
          AND B.STOP_PROCESS_REASON IS NULL
          AND NVL(ps.picking_status,0) != 'SHIPPED'
          and PS.TRANSFER_DATE IS NULL
          
</pre>
    <b>Description:Validate the DCs belongs to the pallet </b>
    <pre>SELECT distinct(ps.customer_dc_id) 
FROM ps ps , box b
WHERE ps.pickslip_id = box.pickslip_id 
AND ps.shipping_id = &#39;shipping_id&#39; 
AND b.pallet_id =&#39;pallet_id&#39;
AND B.STOP_PROCESS_DATE IS NULL
AND B.STOP_PROCESS_REASON IS NULL
AND NVL(ps.picking_status,0) != 'SHIPPED'
AND PS.TRANSFER_DATE IS NULL</pre>
    <b>Description:Validation quer for validating area wise non palletized boxes.</b>
    <pre>
SELECT COUNT(DISTINCT B.UCC128_ID) AS TOTAL_BOXES
  FROM BOX B
  LEFT OUTER JOIN PS
    ON B.PICKSLIP_ID = PS.PICKSLIP_ID
 WHERE PS.TRANSFER_DATE IS NULL
   AND B.PALLET_ID IS NULL
   AND B.STOP_PROCESS_DATE IS NULL
   AND B.STOP_PROCESS_REASON IS NULL
   AND NVL(ps.picking_status,0) != 'SHIPPED'
   AND PS.TRANSFER_DATE IS NULL  
   AND PS.CUSTOMER_ID = &#39;CUSTOMER_ID&#39;
   AND B.IA_ID = &#39;IA_ID'
 GROUP BY PS.CUSTOMER_ID</pre>
    <b>Description:Validation query for retreving area wise pallets for the passed customer:-</b>
    <pre>SELECT COUNT(DISTINCT B.Pallet_Id) AS TOTAL_BOXES
  FROM BOX B
  LEFT OUTER JOIN PS
    ON B.PICKSLIP_ID = PS.PICKSLIP_ID
 WHERE PS.TRANSFER_DATE IS NULL
   AND B.PALLET_ID IS NOT NULL
   AND B.STOP_PROCESS_DATE IS NULL
   AND B.STOP_PROCESS_REASON IS NULL
   AND NVL(ps.picking_status,0) != 'SHIPPED'
   AND PS.TRANSFER_DATE IS NULL
   AND PS.CUSTOMER_ID = &#39;CUSTOMER_ID'
   AND B.IA_ID = &#39;IA_ID'
 GROUP BY PS.CUSTOMER_ID</pre>

  <b>Description:Validation query for EDI customers. Retrieving details on the basis of passed ATS date:-</b>
    <pre>
SELECT B.UCC128_ID,
       B.PALLET_ID,
       PS.CUSTOMER_ID,
       PS.CUSTOMER_DC_ID,
       PS.PO_ID, 
       PS.BUCKET_ID,
       EPS.EDI_ID,
       EPS.Load_Id,
       EPS.ATS_DATE,
       ps.shipping_id,
       COUNT(DISTINCT b.ucc128_id) OVER() AS TOTAL_BOXES
  FROM PS PS
  INNER JOIN box b ON
  PS.PICKSLIP_ID = B.PICKSLIP_ID
 INNER JOIN EDI_753_754_PS EPS
    ON PS.PICKSLIP_ID = EPS.PICKSLIP_ID
 WHERE PS.TRANSFER_DATE IS NULL
   AND B.STOP_PROCESS_DATE IS NULL  
   AND NVL(ps.picking_status,0) != 'SHIPPED'
   AND PS.PO_ID = :PO_ID
   AND PS.Customer_Id = :CUSTOMER_ID
   AND EPS.ATS_DATE >= (:ATS_DATE)
   AND EPS.ATS_DATE < (:ATS_DATE) + 1
   </pre>
</body>
</html>
