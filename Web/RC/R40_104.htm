<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>

    <form id="Form1" 
    action="http://w3chile/XTremeReporter/ReportDoc.aspx?_Report=C%3a%5cDCMSLive1%5cReports%5cR40.101.xsd" 
    method="post" name="Form1">
        <input id="__VIEWSTATE" name="__VIEWSTATE" type="hidden" 
            value="/wEPDwULLTEzNDA3MDMyNjVkZIcap+K8nT9Z14LPGvQPQ71nJTZT" />
    <h1 align="center" xmlns="http://www.w3.org/1999/xhtml">
        40<b>.</b>10<b>4 : </b>Pulled Pallet Summary Report
    </h1>
    <h3>
        Author :Dinesh S Panwar</h3>
        $Revision: 4655 $<br/>
        Tested By: Sanjeev Kumar<br />
        <br />
        For the specified date, Operator and Destination Area , the report displays the 
            Number of Cartons with the date and time when last carton was pulled.
  
    <h2>
        Overview</h2>
    <p>
        For the specific date, Operator and Deastination Area , the report displays the 
        Pallet Id, Number of cartons&nbsp; and the date and time when last cartons was 
        pulled.&nbsp; Pallet id is provides the ability to drill down further to view it 
        history.</p>
    </li>
           
        <h2>
            Algorithm</h2>
        For the particular date, Operator and Destination Area we retrive the time period, 
        retrives the pallet_id, number of cartons and the date and time when last 
        cartons was pulled from carton_productivity table.
        <h3>
            Output</h3>
        <table border="1" cellpadding="1" cellspacing="1" width="100%" >
            <tr>
                <td align="middle" width="25%">
                    <b>Item</b></td>
                <td align="middle" width="20%">
                    <b>Summary</b></td>
                <td align="middle" width="10%">
                    <b>Sort Sequence</b></td>
                <td align="middle" width="35%">
                   Detail</b></td>
            </tr>
            <tr>
                <td>
                    <i><b>Pallet Id</b></i></td>
                <td>
                    No
                    </td>
                <td align="middle">
                &nbsp; 2</td>
                <td>
                    <r:item  Key="true" Term="Carton Id">Pallet which were used to 
                    pull the cartons from area . </R:ITEM>
                </td>
            </tr>
            <tr>
                <td>
                    # Cartons</td>
                <td>
                    Yes                 </td>
                <td align="middle">
                    &nbsp;</td>
                <td>
                    <r:item  Term="Label ID">Number of cartons were pulled on this 
                    pallet. </R:ITEM>
                    <br />
                    <ul><li>In case of pallet locating,Report show  ***  in place of null carton</li></ul></td>
            </tr>
            <tr>
                <td>
                    Quantity</td>
                <td>
                    Yes
                </td>
                <td align="middle">
                    &nbsp;
                </td>
                <td>
                    Total quantity
                    <r:item  Term="Season Code">on the pallet. </R:ITEM>
                </td>
            </tr>
            <tr>
                <td>
                    Last Carton Pulled On</td>
                <td>
                    No
                </td>
                <td align="middle">
                    &nbsp;</td>
                <td>
                    <r:item Term="Receipt Date" 
SortSequence="5">Date and time when the last carton on this pallet was pulled. </R:ITEM>
                </td>
            </tr>
            <tr>
                <td>
                    Building</td>
                <td>
                    No</td>
                <td align="middle">
                    1&nbsp;</td>
                <td>
                Building on Which employee worked.<r:item Term="Receipt Date" 
SortSequence="5"> </R:ITEM>
                </td>
            </tr>
            </table>
        <h2>
            Parameters</h2>
        <table border="1" cellpadding="1" cellspacing="1" width="100%" >
            <tr>
                <td align="middle" width="20%">
                    <b>Name</b></td>
                <td align="middle" width="20%">
                    <b>Default</b></td>
                <td align="middle" width="60%">
                    <b>Detail</b></td>
            </tr>
              <tr>
                <td>
                    Module Code</td>
                <td>
                    None</td>
                <td>
                    Module Code of the Process.</td>
            </tr>
            <tr>
                <td>
                    Employee</td>
                <td>
                    None</td>
                <td>
                    Name of the Employee.</td>
            </tr>
            <tr>
                <td>
                    Process Start Date</td>
                <td>
                    None</td>
                <td>
                    Date on which user started work. </td>
            </tr>
             <tr>
                <td>
                    Destination Area</td>
                <td>
                    None</td>
                <td>
                    Destination area of the carton. </td>
            </tr>
            <tr>
                <td>
                    Shift</td>
                <td>
                    All Shifts</td>
                <td>
                    An employee can work in all shift. If you want to see the productivity of a 
                    particular shift of a given date/date range then this parameter will be used.</td>
            </tr>
             <tr>
                <td>
                    Building</td>
                <td>
                    All</td>
                    <td>
                        Show those employee productivity who are working on passed building.</td>
            </tr>
            <tr>
                <td>
                    Activity</td>
                <td>
                    All</td>
                <td>
                    Activity of the module for which employee worked</td>
            </tr>
        </table>
        &nbsp;<br />
    <h2>
        Prerequisitestes</h2>
    <p>
     Private synonyms for the following tables are required</p>
    <p>
        carton_productity</p>
        <p>
            master_action_code</p>
    <p>
        Use the below script to create the synonyms</p>
    <p>
        <code>create or replace synonym carton_productivity for dcms4.carton_productivity;             <br />
            &nbsp;</code></p>
        <p>
        <code>create or replace synonym master_action_code for dcms4.master_action_code;</code></p>
   
        <h2>
            Behavior Change</h2>
        <ul>
        <li>Changed Report Title:-"Pulled Pallet Summary Report" </li>
      
        
    </ul>
        <h2>
            Issues</h2>
        No Known Issue.
           <br />
        <div id="divTechnical">
            <h2>
                Parameter Validation</h2>
            No special validations.
            <h2>
                Query&#39;s documentation:</h2>
            <pre>      with q1 as(SELECT nvl(CP.WAREHOUSE_LOCATION_ID,'Unknown') AS WAREHOUSE_LOCATION_ID,
       CP.PALLET_ID AS pallet_id,
       MAX(CP.MODULE_CODE) AS MODULE_CODE,
       MAX(CP.ACTION_CODE) AS ACTION_CODE,
       MAX(CP.OPERATOR_ID) AS EMPLOYEE,
        max(CP.process_end_date) as max_time,
       <![CDATA[
       $ShiftDateSelectClause$
       ]]>, 
       MAX(CP.CARTON_DESTINATION_AREA) AS AREA,
       CP.CARTON_ID AS no_of_cartons,
       MAX(CP.CARTON_QUANTITY) AS quantity

  FROM CARTON_PRODUCTIVITY CP

 <if>WHERE    cp.module_code=cast(:module_code as varchar2(255))</if>
          <if>And CP.action_code = cast(:action_code as varchar2(255))</if>
          <if> AND CP.process_start_date &gt;= CAST(:shift_start_date AS DATE)
           AND CP.process_start_date &lt; CAST(:shift_start_date AS DATE) + 2 </if>
           <if>AND CP.operator_id = cast(:operator as varchar2(255))</if>
          <if> AND CP.carton_destination_area = cast(:carton_destination_area as varchar2(255))</if>
        <![CDATA[
        $ShiftNumberWhereClause$
        $ShiftWhereClause$
        ]]>
        <if c="$warehouse_location_id != 'Unknown'">AND CP.Warehouse_Location_Id = :warehouse_location_id</if>
   <if c="$warehouse_location_id ='Unknown'">and CP.Warehouse_Location_Id is null</if> 

 GROUP BY 
          CP.PALLET_ID,CP.CARTON_ID,
          CP.WAREHOUSE_LOCATION_ID,
          <![CDATA[
          $ShiftDateGroupClause$
          ]]>)
      select MAX(q1.WAREHOUSE_LOCATION_ID) AS WAREHOUSE_LOCATION_ID,
       q1.PALLET_ID             AS pallet_id,
       MAX(q1.MODULE_CODE)           AS MODULE_CODE,
       MAX(q1.ACTION_CODE)           AS ACTION_CODE,
       MAX(q1.EMPLOYEE)              AS EMPLOYEE,
       MAX(q1.max_time)              as max_time,
       MAX(q1.AREA)                  AS AREA,
       DECODE(COUNT(DISTINCT q1.no_of_cartons),0,NULL,COUNT(DISTINCT q1.no_of_cartons))   AS no_of_cartons,
       SUM(q1.quantity)              AS quantity
  from q1
  <if>where q1.shift_start_date &gt;= CAST(:shift_start_date AS DATE)
           AND q1.shift_start_date &lt; CAST(:shift_start_date AS DATE) + 1</if>
           GROUP BY q1.PALLET_ID
                </pre>
                <h2>
                Validation query
                </h2>
         <pre> SELECT MAX(CP.WAREHOUSE_LOCATION_ID) AS WAREHOUSE_LOCATION_ID,
         CP.PALLET_ID AS pallet_id,
         MAX(CP.MODULE_CODE) AS MODULE_CODE,
         MAX(CP.ACTION_CODE) AS ACTION_CODE,
         MAX(CP.OPERATOR_ID) AS EMPLOYEE,
         max(CP.process_end_date) as max_time,

         (CASE
           WHEN (CP.process_start_date - TRUNC(CP.process_start_date)) * 24 <= 5 THEN
            TRUNC(CP.process_start_date - 1)
           ELSE
            TRUNC(CP.process_start_date)
         END) AS shift_start_date,
         MAX(CP.CARTON_DESTINATION_AREA) AS AREA,
         count(distinct CP.CARTON_ID) AS no_of_cartons
        FROM CARTON_PRODUCTIVITY CP

   WHERE cp.module_code = cast(:module_code as varchar2(255))
     And CP.action_code = cast(:action_code as varchar2(255))
     AND CP.process_start_date >= TO_DATE(:process_start_date, 'MM/DD/YYYY')
     AND CP.process_start_date < TO_DATE(:process_start_date, 'MM/DD/YYYY') + 2
     AND CP.operator_id = cast('PUL' as varchar2(255))
     AND CP.carton_destination_area = cast(:carton_destination_area as varchar2(255))

   GROUP BY CP.PALLET_ID,

            (CASE
              WHEN (CP.process_start_date - TRUNC(CP.process_start_date)) * 24 <= 5 THEN
               TRUNC(CP.process_start_date - 1)
              ELSE
               TRUNC(CP.process_start_date)
            END)</pre>
        </div>
    </form>

</body>
</html>
