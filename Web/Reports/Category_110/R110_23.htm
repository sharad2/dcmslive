<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>110.23 Open UPS Fedex shipments report</title>
    <style type="text/css">
        .style1
        {
            text-align: justify;
        }
        .style2
        {
            text-align: justify;
            width: 25%;
            height: 24px;
        }
        .style3
        {
            text-align: justify;
            width: 20%;
            height: 24px;
        }
        .style4
        {
            text-align: justify;
            width: 10%;
            height: 24px;
        }
        .style5
        {
            text-align: justify;
            width: 45%;
            height: 24px;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center">
        110.23 Open UPS Fedex shipments report</h1>
    <h3>
        Author : Sanjeev Kumar</h3>
    <ul style="list-style: none">
        <li>Mentor:Hemant K. varshney</li>
        <li>$Revision: 6813 $</li>
        <li>Status: Tested</li>
        <li>Reviewed By: Hemant K. Varshney</li>
        <li>Tested By: Hemant K. Singh</li>
    </ul>
    <h2>
        Overview</h2>
    <p class="MsoNormal" style="text-decoration-line:initial">
        This report is for displaying only validated orders of small shipments. For each small shipment order this report shows all the information of validated boxes like how many boxes of  SMS order is validated, how many boxes are scanned at UPS station and how many boxes are there that are validated but not yet scanned at UPS station. This will help users to consolidate shipments which are very urgent. 
        If DC Cancel date expired&nbsp; of any PO the report will be mark that column from the red color. By using different filter combinations of this report like Customer, Delivery Date and DC Cancel Date user can process priority shipments first with great efficiency.</p>
    <h2>
        Algorithm</h2>
    <p>
        This report is for displaying only validated orders of small shipments.&nbsp; For this retrieving PO and customer&nbsp; from table PS and cust tabel verfied date and 
        Total validated boxes from&nbsp;table BOX. Delivery date and DC cancel dates are being retreived from table PO. number of boxes which are scanned at UPS station&nbsp; are being retreived from table load_smsups.</p>
    <h2>
        Output </h2>
    <table width="100%" cellspacing="1" cellpadding="1" border="1">
        <tr>
            <td style="width:25%; text-align:center">
                <b>Item</b>
            </td>
            <td style="width:20%; text-align:center">
                <b>Summary</b>
            </td>
            <td style="width:10%; text-align:center">
                <b>Sort Sequence</b>
            </td>
            <td style="width:45%; text-align:center">
                <b>Detail</b>
            </td>
        </tr>
        <tr>
            <td style="width:25%; " class="style1">
                Customer</td>
            <td style="width:20%; " class="style1">
                None</td>
            <td style="width:10%; " class="style1">
                1</td>
            <td style="width:45%; " class="style1">
                Name and ID of the customer.</td>
        </tr>
        <tr>
            <td style="width:25%; " class="style1">
                PO</td>
            <td style="width:20%; " class="style1">
                None</td>
            <td style="width:10%; " class="style1">
                &nbsp;</td>
            <td style="width:45%; " class="style1">
                Order Id of the customer.</td>
        </tr>
        <tr>
            <td style="width:25%; " class="style1">
                # Validated Pickslips</td>
            <td style="width:20%; " class="style1">
                Sum</td>
            <td style="width:10%; " class="style1">
                &nbsp;</td>
            <td style="width:45%; " class="style1">
                Pickslip of customer.</td>
        </tr>
        <tr>
            <td style="width:25%; " class="style1">
                Box Validated</td>
            <td style="width:20%; " class="style1">
                Sum</td>
            <td style="width:10%; " class="style1">
                &nbsp;</td>
            <td style="width:45%; " class="style1">
                Total boxes of the order</td>
        </tr>
        <tr>
            <td style="width:25%; " class="style1">
                Boxes Scanned At UPS</td>
            <td style="width:20%; " class="style1">
                Sum</td>
            <td style="width:10%; " class="style1">
                &nbsp;</td>
            <td style="width:45%; " class="style1">
                Displaying those boxes which are scanned at UPS</td>
        </tr>
        <tr>
            <td style="width:25%; " class="style1">
                Boxes Remaining</td>
            <td style="width:20%; " class="style1">
                Sum</td>
            <td style="width:10%; " class="style1">
                &nbsp;</td>
            <td style="width:45%; " class="style1">
                Displaying those boxes which are not scanned at UPS.</td>
        </tr>
        <tr>
            <td class="style2">
                Delivery Date</td>
            <td class="style3">
                None</td>
            <td class="style4">
                &nbsp;</td>
            <td class="style5">
                Date on/after which order can be delivered to customer</td>
        </tr>
        <tr>
            <td style="width:25%; " class="style1">
                DC
                Cancel Date</td>
            <td style="width:20%; " class="style1">
                None</td>
            <td style="width:10%; " class="style1">
                2</td>
            <td style="width:45%; " class="style1">
                Date on which order will be cancelled</td>
        </tr>
        </table>
    <h2>
        Parameters</h2>
    <table width="100%" cellspacing="1" cellpadding="1" border="1">
        <tr>
            <td style="width:20% ; text-align:center">
                <b>Name</b>
            </td>
            <td style="width:15% ; text-align:center">
                <b>Type</b>
            </td>
            <td style="width:20%; text-align:center">
                <b>Default</b>
            </td>
            <td style="width:45%; text-align:center">
                <b>Detail</b>
            </td>
        </tr>
        <tr>
            <td >
                Customer</td>
            <td>
                String</td>
            <td>
                None</td>
            <td>
                Customer for which this report is being executed. </td>
        </tr>
        <tr>
            <td>
                Delivery Date 
                From</td>
            <td>
                Date</td>
            <td>
                Week start date of current date. By default this parameter will 
                remain unchecked.</td>
            <td>
                This parameter is for passing desired &quot;FROM&quot; delivery date to see the desired 
                order information.</td>
        </tr>
                <tr>
            <td>
                Delivery Date To</td>
            <td>
                Date</td>
            <td>
                Month&#39;s end date of current month(Fiscal) . By default this parameter will 
                remain unchecked.</td>
            <td>
                This parameter is for passing desired &quot;TO&quot; delivery date to see the desired 
                order information.</td>
        </tr>
        <tr>
            <td>
                DC Cancel Date 
                From</td>
            <td>
                Date</td>
            <td>
                Week start date of current date. By default this parameter will 
                remain unchecked.</td>
            <td>
                This parameter is for passing desired &quot;FROM&quot; DC cancel date to see the desired 
                order information.</td>
        </tr>
         <tr>
            <td>
                DC Cancel Date To</td>
            <td>
                Date</td>
            <td>
                Month&#39;s end date of current month(Fiscal) . By default this parameter will 
                remain unchecked.</td>
            <td>
                This parameter is for passing &quot;TO&quot; DC cancel date&nbsp; to see the desired order 
                information.</td>
        </tr>
    </table>
    <h2>
        Performance Detail</h2>
    <p>
<i>Expected Time for the report output for retreiving one month data is 2 Sec.</i></p>
    <h2>
        Behavior Change</h2>
    <ul>
        <li>None</li>
    </ul>
    <h2>
        Issues</h2>
    <ul>
        <li>None</li>
    </ul>
    <h2>
        Prerequisites</h2>
                <h4>
                Private synonyms requried for the following tables 
                    under DCMSLIVE user: </h4>
         
PS,<br />
PO,<br />
BOX,<br />
cust,<br />
MASTER_CARRIER,<br />
LOAD_SMSUPS    
            <h4>
                Script to create 
                these synonyms:</h4>
create or replace synonym box for dcms8.box; <br />      
create or replace synonym ps for dcms8.ps;<br />
create or replace synonym po for dcms8.po;<br />
create or replace synonym Master_Carrier for dcms4.Master_Carrier;<br />
create or replace synonym cust for dcms8.cust;<br />
    create or replace synonym load_smsups for dcms4.load_smsups;
         <h4>App-Settings required:</h4>
           <ul><li>None</li></ul>
    <h2>
        Query&#39;s documentation:</h2>
    <pre>
   SELECT ps.po_id,
       ps.customer_id,
       MAX(C.NAME) AS CUSTOMER_NAME,
       MAX(PO.DC_CANCEL_DATE) AS DC_CANCEL_DATE,
       MAX(PO.START_DATE) AS START_DATE,
       COUNT(DISTINCT PS.PICKSLIP_ID) AS PICKSLIP_COUNT,
       count(distinct b.ucc128_id) AS total_boxes,
       COUNT(DISTINCT LS.UCC128_ID) AS UPS_SCANNED_BOXES,
       count(distinct b.ucc128_id) - COUNT(DISTINCT LS.UCC128_ID) as Remaining_boxes
  FROM PS
 INNER JOIN CUST C ON 
 PS.CUSTOMER_ID = C.CUSTOMER_ID
 INNER JOIN BOX B
    ON PS.PICKSLIP_ID = B.PICKSLIP_ID
 INNER JOIN MASTER_CARRIER MC
    ON PS.CARRIER_ID = MC.CARRIER_ID
  LEFT OUTER JOIN LOAD_SMSUPS LS
    ON B.UCC128_ID = LS.UCC128_ID
 INNER JOIN PO ON 
 PS.CUSTOMER_ID = PO.CUSTOMER_ID
 AND PS.PO_ID = PO.PO_ID
 AND PS.ITERATION = PO.ITERATION
 WHERE PS.TRANSFER_DATE IS NULL
   AND B.STOP_PROCESS_DATE IS NULL
   AND MC.SMALL_SHIPMENT_FLAG = 'Y'
   AND PS.REPORTING_STATUS = 'VALIDATED'
   <if>AND <a pre="PS.customer_id IN (" sep="," post=")">:customer_id</a></if>
   <if>and po.start_date &gt;= cast(:from_start_date as date)</if>
   <if>and po.start_date &lt; cast(:to_start_date as date) + 1</if>
   <if>and po.dc_cancel_date &gt;=cast(:from_cancel_date as date) </if>
   <if>and po.dc_cancel_date &lt;cast(:to_cancel_date as date) + 1</if>
 group by ps.po_id,ps.customer_id</pre>
    <h2>
        Validation details</h2>
    <pre>
SELECT COUNT(DISTINCT B.UCC128_ID) AS "No. Of Boxes", COUNT(DISTINCT B.PICKSLIP_ID)AS "No. Of pickslip",
       MAX(PS.CUSTOMER_ID) AS "Customer ID"
  FROM PS
 INNER JOIN BOX B
    ON PS.PICKSLIP_ID = B.PICKSLIP_ID
 INNER JOIN MASTER_CARRIER MC
    ON PS.CARRIER_ID = MC.CARRIER_ID
 WHERE PS.TRANSFER_DATE IS NULL
   AND B.STOP_PROCESS_DATE IS NULL
   AND PS.REPORTING_STATUS = 'VALIDATED'
   AND MC.SMALL_SHIPMENT_FLAG = 'Y'
   AND PS.PO_ID = '0057240104'
    </pre>
    <p>
        Description:- 
        Above Query is showing No. Of boxes and No. Of Picklsips for specific PO.</p>
    <pre>
SELECT PO.START_DATE AS "Start Date", PO.DC_CANCEL_DATE AS "DC Cancel Date"
  FROM PO
 WHERE PO.PO_ID ='0057240104';</pre>
    <p>Description:- Above query is displaying Start and DC cancel Date for specific PO.</p>
    <pre>
        SELECT COUNT(DISTINCT LS.UCC128_ID) AS "Scanned At UPS Station",
       (COUNT(DISTINCT B.UCC128_ID) - COUNT(DISTINCT LS.UCC128_ID)) AS "Remaining Boxes"
  FROM PS
 INNER JOIN BOX B
    ON PS.PICKSLIP_ID = B.PICKSLIP_ID
  LEFT OUTER JOIN LOAD_SMSUPS LS
    ON B.UCC128_ID = LS.UCC128_ID
 INNER JOIN MASTER_CARRIER MC
    ON PS.CARRIER_ID = MC.CARRIER_ID
 WHERE PS.TRANSFER_DATE IS NULL
   AND B.STOP_PROCESS_DATE IS NULL
   AND PS.REPORTING_STATUS = 'VALIDATED'
   and PS.PO_ID = '083420'
   AND MC.SMALL_SHIPMENT_FLAG ='Y'
    </pre>
    <p>Description:- 
        Above Query displays the No. of boxes Which are scanned at UPS as well as displays Remaining Boxes. 
    </p>
</body>
</html>
